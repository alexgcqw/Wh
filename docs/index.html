<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>WH Game</title>

<style>
body{
  margin:0;
  font-family:Arial;
  background:#0f2027;
  color:white;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}

.card{
  background:#111;
  width:90%;
  max-width:420px;
  padding:20px;
  border-radius:15px;
  text-align:center;
}

button{
  width:100%;
  padding:12px;
  margin:8px 0;
  border:none;
  border-radius:10px;
  font-size:16px;
  background:#00f2fe;
  color:black;
}

.hide{display:none}
#timer{color:red}
</style>
</head>

<body>

<div id="menu" class="card">
<h1>WH GAME ðŸŽ®</h1>
<p>Juego de WH-questions</p>
<button onclick="start()">JUGAR</button>
</div>

<div id="game" class="card hide">

<p id="timer">Tiempo: 10</p>
<h2 id="question"></h2>
<div id="answers"></div>

<h3>Puntos: <span id="score">0</span></h3>
</div>

<script>
let data=[
{q:"_____ is your teacher?",a:["Who","What","When"],c:0},
{q:"_____ do you live?",a:["Who","Where","Why"],c:1},
{q:"_____ is your birthday?",a:["When","Who","What"],c:0},
{q:"_____ are you sad?",a:["Why","Who","Where"],c:0}
];

let i=0,score=0,time=10,timer;

function start(){
 document.getElementById("menu").classList.add("hide");
 document.getElementById("game").classList.remove("hide");
 show();
 startTimer();
}

function show(){
 if(i>=data.length){
  end();
  return;
 }

 let q=data[i];
 document.getElementById("question").innerHTML=q.q;

 let box=document.getElementById("answers");
 box.innerHTML="";

 q.a.forEach((x,n)=>{
  let b=document.createElement("button");
  b.innerHTML=x;
  b.onclick=()=>check(n);
  box.appendChild(b);
 });
}

function check(n){
 if(n==data[i].c) score++;

 document.getElementById("score").innerHTML=score;
 i++;
 resetTimer();
 show();
}

function startTimer(){
 timer=setInterval(()=>{
  time--;
  document.getElementById("timer").innerHTML="Tiempo: "+time;

  if(time==0){
   i++;
   resetTimer();
   show();
  }
 },1000);
}

function resetTimer(){
 clearInterval(timer);
 time=10;
 startTimer();
}

function end(){
 clearInterval(timer);
 document.body.innerHTML=
 "<div class='card'><h1>FIN ðŸŽ‰</h1>"+
 "<h2>Puntos: "+score+"</h2>"+
 "<button onclick='location.reload()'>Jugar otra vez</button></div>";
}
</script>

</body>
</html>
